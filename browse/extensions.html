<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title id="title">Extensions - Blueprint</title>
    <link href="/.modules/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/.modules/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="/.modules/global/global.css?version=2" rel="stylesheet">
    <link href="/browse/extensions.css?version=2" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <script defer src="/yay/script.js"></script>

    <!-- META -->
    <!-- JSON-LD -->
  </head>

  <body data-bs-theme="dark">

    <!-- Desktop Navbar -->
    <div class="sticky-top start-0 w-100" style="top: -1000px;">
      <div class="bg-primary p-2 text-center">
        <b>Mind filling out a quick survey about Blueprint?</b>
        <i class="bi bi-dot"></i>
        <a href="https://bpfw.io/survey" target="_blank" class="placeholder-wave text-body">
            Sure!
          <i class="bi bi-arrow-right"></i>
        </a>
      </div>
    </div>

    <header class="p-3 mb-0 border-bottom sticky-top d-lg-block d-none blueprint-navbar">
      <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
          <a href="/" class="d-flex align-items-center mb-2 me-3 mb-lg-0 link-body-emphasis text-decoration-none">
            <img src="/.assets/brand/retro.png" height="30" alt="" />
          </a>
          <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
            <li><a href="/" class="nav-link px-2 link-body-emphasis">Home</a></li>
            <li><a href="/browse" class="nav-link px-2 link-body-emphasis">Browse</a></li>
            <li><a href="/docs" class="nav-link px-2 link-body-emphasis">Documentation</a></li>
          </ul>
          <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
            <li class="nav-item me-1 ms-1"><a class="nav-link px-1 nav-svg" href="https://bsky.app/profile/blueprint.zip"><img src="/.assets/storage/icons/bluesky.svg"/></a></li>
            <li class="nav-item me-1 ms-1 py-1"><a class="nav-link px-1" href="https://discord.com/servers/blueprint-1063548024825057451"><i class="bi bi-discord"></i></a></li>
            <li class="nav-item me-1 ms-1 py-1"><a class="nav-link px-1" href="https://github.com/BlueprintFramework"><i class="bi bi-github"></i></a></li>
            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
              <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
              <hr class="d-lg-none my-2 text-white-50">
            </li>
            <li class="nav-item dropdown">
              <button class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (dark)">
                <i class="bi bi-moon-stars-fill my-1 theme-icon-active"></i>
                <span class="d-lg-none ms-2" id="bd-theme-text">Toggle theme</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end position-absolute gap-1 p-2 rounded-3 mx-0 border-0 shadow w-220px" aria-labelledby="bd-theme-text">
                <li><button type="button" class="theme-switcher-btn dropdown-item rounded-2 d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"><i class="bi bi-sun-fill me-2 opacity-50"></i> Light</button></li>
                <li><button type="button" class="theme-switcher-btn dropdown-item rounded-2 d-flex align-items-center active" data-bs-theme-value="dark" aria-pressed="true"><i class="bi bi-moon-stars-fill me-2 opacity-50"></i> Dark</button></li>
                <li><button type="button" class="theme-switcher-btn dropdown-item rounded-2 d-flex align-items-center" data-bs-theme-value="auto" aria-pressed="false"><i class="bi bi-circle-half me-2 opacity-50"></i> Auto</button></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </header>

    <!-- Mobile/Tablet Navbar -->
    <nav class="navbar sticky-top d-lg-none d-block blueprint-navbar-mobile">
      <div class="container-fluid">
        <a href="/" class="d-flex align-items-center mx-2 my-3 mb-lg-0 link-body-emphasis text-decoration-none"><img src="/.assets/brand/retro.png" height="35" alt="" /></a>
        <button class="btn btn-secondary bg-dark-subtle border-0 nav-dropdown-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Navigation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
          <li class="nav-item">
            <a href="/" class="btn btn-dark rounded-2 d-flex gap-2 py-2 px-3 lh-sm text-start align-items-center position-absolute mobile-nav-link">
              <div>
                <i class="bi bi-house-fill h1"></i>
              </div>
              <div class="text-truncate">
                <strong class="d-block">Home</strong>
                <small>Learn more about Blueprint, what is is, and why it was made</small>
              </div>
            </a>
            <div class="mobile-nav-spacer"></div>
          </li>
          <li class="nav-item">
            <a href="/browse" class="btn btn-dark rounded-2 d-flex gap-2 py-2 px-3 lh-sm text-start align-items-center position-absolute mobile-nav-link bg-light-subtle">
              <div>
                <i class="bi bi-puzzle-fill h1"></i>
              </div>
              <div class="text-truncate">
                <strong class="d-block">Browse</strong>
                <small>Explore and search extensions made by the community</small>
              </div>
            </a>
            <div class="mobile-nav-spacer"></div>
          </li>
          <li class="nav-item">
            <a href="/docs" class="btn btn-dark rounded-2 d-flex gap-2 py-2 px-3 lh-sm text-start align-items-center position-absolute mobile-nav-link">
              <div>
                <i class="bi bi-book-fill h1"></i>
              </div>
              <div class="text-truncate">
                <strong class="d-block">Documentation</strong>
                <small>Guides and docs about interacting with Blueprint</small>
              </div>
            </a>
            <div class="mobile-nav-spacer"></div>
          </li>
          <div class="mobile-theme-switcher row position-absolute start-0 bottom-0 ms-1 mb-4">
            <div class="col-4">
              <a href="javascript:void" class="rounded-2 mobile-theme-switcher-btn" data-bs-theme-value="light">
                <i class="bi bi-sun-fill opacity-50 text-body" style="padding: 0 50%;"></i>
              </a>
            </div>
            <div class="col-4">
              <a href="javascript:void" class="rounded-2 mobile-theme-switcher-btn" data-bs-theme-value="dark">
                <i class="bi bi-moon-stars-fill opacity-50 text-body" style="padding: 0 50%;"></i>
              </a>
            </div>
            <div class="col-4">
              <a href="javascript:void" class="rounded-2 mobile-theme-switcher-btn" data-bs-theme-value="auto">
                <i class="bi bi-circle-half opacity-50 text-body" style="padding: 0 50%;"></i>
              </a>
            </div>
          </div>
        </ul>
      </div>
    </div>



    <!-- Content -->
    <div class="container mb-5 pt-5" id="productContainer">
      <div class="card card-cover h-100 overflow-hidden text-bg-dark rounded-3 position-relative pt-5 mb-4">
        <div class="d-flex flex-column h-100 p-5 pb-4 text-white text-shadow-1 extension-card-content">
          <h3 class="pt-5 mt-5 mb-3 placeholder-wave">
            <span class="placeholder col-6 rounded-3"></span>
          </h3>
          <p class="placeholder-wave">
            <span class="placeholder col-12 rounded-5"></span>
          </p>
        </div>
      </div>

      <div class="row g-4">
        <div class="col-lg-8 col-xs-12 order-lg-0 order-1">
          <center>
            <div class="blueprint-promotion">
              <h2 class="h3 my-3">
                <span class="placeholder-wave">
                  <span class="placeholder col-5 rounded-3"></span>
                </span>
              </h2>
              <p>
                <span class="placeholder-wave">
                  <span class="placeholder col-8 rounded-3"></span>
                  <span class="placeholder col-8 rounded-3"></span>
                  <span class="placeholder col-8 rounded-3"></span>
                </span>
              </p>
              <span class="placeholder-wave">
                <span class="placeholder col-4 rounded-3"></span>
              </span>
            </div>
          </center>
        </div>
        <div class="col-lg-4 col-md-12">
          <div class="platform-button placeholder-wave">
            <span class="placeholder col-12 rounded-3 mb-2"></span>
          </div>

          <div class="bg-secondary-subtle p-3 mt-4 rounded-2">
            <span class="placeholder-wave">
              <span class="placeholder col-9 rounded-3"></span>
            </span>
            <br>
            <span class="placeholder-wave">
              <span class="placeholder col-10 rounded-3"></span>
            </span>
            <br>
            <span class="placeholder-wave">
              <span class="placeholder col-4 rounded-3"></span>
            </span>

            <div class="mt-2">
              <span class="placeholder-wave">
                <span class="placeholder col-2 rounded-3"></span>
                <span class="placeholder col-3 rounded-3"></span>
                <span class="placeholder col-4 rounded-3"></span>
              </span>
            </div>
          </div>

        </div>
      </div>
    </div>


    <!-- Footer -->
    <div class="container">
      <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        <div class="col-md-4 d-flex align-items-center">
          <a href="/" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1">
            <svg viewBox="0 0 500 500" class="text-body-secondary" xmlns="http://www.w3.org/2000/svg" width="30" height="24" fill="currentColor">
              <rect x="0" y="166.6666" width="166.6666" height="166.6666"/>
              <rect x="166.6666" y="0" width="166.6666" height="166.6666"/>
              <rect x="166.6666" y="333.3332" width="166.667" height="166.6666"/>
              <rect x="333.3332" y="166.6666" width="166.667" height="333.3332"/>
            </svg>
          </a>
          <span class="mb-3 mb-md-0 text-body-secondary">© 2023-<span class="currentYear">2025</span> Emma (<a href="https://prpl.wtf" class="text-body-secondary" target="_blank">prpl.wtf</a>)</span>
        </div>

        <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
          <li class="ms-3"><a class="text-body-secondary" href="https://discord.com/servers/blueprint-1063548024825057451"><i class="bi bi-discord" width="24" height="24"></i></a></li>
          <li class="ms-3"><a class="text-body-secondary" href="https://github.com/BlueprintFramework"><i class="bi bi-github" width="24" height="24"></i></a></li>
          <li class="ms-3"><a class="text-body-secondary" href="https://hcb.hackclub.com/donations/start/blueprint"><i class="bi bi-chat-right-heart-fill" width="24" height="24"></i></a></li>
        </ul>
      </footer>
    </div>

    <div id="social-push">
      <div>
        <p>
          <b>Become part of Blueprint's Discord community</b> and be one of the first to get notified about new extension releases and framework updates.
        </p>
        <a href="https://discord.com/servers/blueprint-1063548024825057451" class="link-underline link-underline-opacity-0 me-3"><i class="bi bi-discord me-1"></i> Join the community</a>
        <a href="javascript:void" onclick="dismissSocial()" class="link-underline link-underline-opacity-0 pe-pointer text-secondary"><i class="bi bi-x-lg me-1"></i> Close</a>
      </div>
    </div>

    <script src="/.modules/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/.modules/bootstrap/etc/theme-switcher.js"></script>
    <script src="/.modules/global/global.js"></script>
    <script>
      /**
       * @typedef {{
       *  name: string;
       *  summary: string;
       *  banner: string;
       *  identifier: string;
       *  author: { name: string; };
       *  type: 'THEME' | 'EXTENSION';
       *  created: string;
       *  platforms: Record<string, {
       *   url: string;
       *   price: number;
       *   currency: string;
       *   reviews: number;
       *   rating?: number;
       *  }>;
       *  stats: {
       *   panels: number;
       *  };
       * }} Product
       *
       * @type {Product}
       */
      let product;

      /** @type {Object<string, [name: string, icon: string]>} */
      const platforms = {
        BUILTBYBIT: ["BuiltByBit", "BBB.png"],
        SOURCEXCHANGE: ["sourceXchange", "SXC.png"],
        GITHUB: ["GitHub", "GH.png"],
      };

      /** @param {Product} data */
      function displayProduct(data) {
        const productContainer = document.getElementById("productContainer");
        const createdDate = new Date(data.created);
        const date = createdDate.toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
        });

        const totalReviews = Object.values(data.platforms).reduce((sum, platform) => sum + platform.reviews, 0)
        const platformsWithRatings = Object.values(data.platforms).filter((x) => x.rating)
        const averageRating = platformsWithRatings.length > 0
          ? platformsWithRatings.reduce((sum, platform) => sum + platform.rating, 0) / platformsWithRatings.length
          : 0

        const twoWeeksAgo = new Date();
        twoWeeksAgo.setDate(twoWeeksAgo.getDate() - 14);
        const isNew = createdDate > twoWeeksAgo;

        document.getElementById("title").innerHTML = `${data.name} - Blueprint`;

        productContainer.innerHTML = `
          <div class="card card-cover h-100 overflow-hidden text-bg-dark rounded-3 position-relative pt-5 mb-4 border-0">
            <div class="blur-gradient-overlay z-2"></div>
            <img src="${data.banner.fullres}" class="product-image object-fit-cover z-1 top-0 start-0 w-100 h-100">
            <div class="d-flex flex-column h-100 p-5 pt-5 text-white text-shadow-1 position-relative extension-card-content z-3">
              <h3 class="pt-5 mt-5 mb-3 fw-bolder">
                ${data.name}
              </h3>
              ${data.summary}
            </div>
          </div>

          <div class="row g-4">
            <div class="col-lg-8 col-xs-12 order-lg-0 order-1">
              <center>
                <div class="blueprint-promotion">
                  <img src="/.assets/storage/misc/png/13.png" width="250" style="max-width: 90%"/>
                  <h2 class="h3 my-3">
                    Install and manage this extension with <b>Blueprint</b>!
                  </h2>
                  <p>
                    <i class="bi bi-check"></i> Avoid conflicts between modifications
                    <br><i class="bi bi-check"></i> Extensions install within minutes
                    <br><i class="bi bi-check"></i> Loved by developers and system administrators
                  </p>
                  <a href="/" target="_blank" class="text-decoration-none">
                    Learn more
                    <i class="bi bi-chevron-right"></i>
                  </a>
                </div>
              </center>
            </div>
            <div class="col-lg-4 col-md-12">
              ${Object.entries(data.platforms)
                .map(
                  ([platform, _data]) => `
                    <div class="platform-button placeholder-wave">
                      <a href="${
                        platform === "BUILTBYBIT"
                          ? "https://" +
                            _data.url.replace(/^https?:\/\//i, "") +
                            "?ref=581299&"
                          : _data.url + "?"
                      }utm_source=blueprint.zip&utm_medium=listing&utm_content=blueprint_${
                          data.identifier
                        }"
                      >
                        <div class="input-group mb-2 flex-nowrap">
                          <label class="input-group-text w-100 border-0 platform-button-content">
                            <img src="/browse/assets/source/${
                              platforms[platform][1]
                            }" alt="" width="24" height="24" class="me-2">
                            ${platforms[platform][0]}
                          </label>
                          <label class="input-group-text border-0 text-secondary platform-button-content">${_data.price} ${_data.currency}</label>
                        </div>
                      </a>
                    </div>
                `)
                .join("")}

              <div class="bg-secondary-subtle p-3 mt-4 rounded-2">
                <span>
                  <i class="bi bi-calendar-week-fill"></i>
                  Released on
                  <span class="opacity-50">
                    ${date}
                  </span>
                </span>
                <br>
                <span>
                  <i class="bi bi-people-fill"></i>
                  Created by
                  <span class="opacity-50">
                    ${data.author.name}
                  </span>
                </span>
                <br>
                <span>
                  <i class="bi bi-star-fill"></i>
                  Average rating
                  <span class="opacity-50">
                    ${averageRating.toFixed(1)} (${totalReviews} reviews)
                  </span>
                </span>
                <br>
                <span>
                  <i class="bi bi-bar-chart-fill"></i>
                  Used by
                  <span class="opacity-50">
                    ~${data.stats.panels} installations
                  </span>
                </span>

                <div class="mt-2">
                  ${
                    (isNew) ? (`
                      <span class="badge bg-primary text-light-emphasis rounded-pill placeholder-wave">
                        <i class="bi bi-stars"></i>
                        new
                      </span>
                    `) : ('')
                  }
                  <span class="badge bg-light-subtle text-light-emphasis rounded-pill">
                    ${
                      (data.type == "theme") ? (`
                        <i class="bi bi-palette2"></i>
                        theme
                      `) : (`
                        <i class="bi bi-puzzle-fill"></i>
                        extension
                      `)
                    }
                  </span>
                  <span class="badge bg-light-subtle text-light-emphasis rounded-pill">
                    <i class="bi bi-tag-fill"></i>
                    ${data.identifier}
                  </span>
                </div>
              </div>

              <div class="bg-secondary-subtle mt-4 rounded-2">
                <div class="p-3">
                  <b>After 2 years of Blueprint, we're going nonprofit!</b> Now fiscally sponsored by Hack Club with full financial transparency.
                </div>
                <div class="ps-3" style="height: 50px">
                  <a href="https://hcb.hackclub.com/donations/start/blueprint">
                    <button class="btn btn-sm btn-danger rounded-pill">
                      <i class="bi bi-heart-fill"></i>
                      Donate
                    </button>
                  </a>
                  <img src="/.assets/storage/misc/webp/2.webp" class="float-end pe-2 pt-2" height="50px" />
                </div>
              </div>

            </div>
          </div>
        `
      }

      // Load product
      let extension_id = window.location.pathname.split("/").pop() || window.location.hash;

      if (!extension_id) {
        window.location = "/browse"
      } else if (extension_id === "extensions" || extension_id === "extensions.html") {
        extension_id = window.location.hash.slice(1);
      }

      fetch(`https://api.blueprintframe.work/api/extensions/${extension_id}`)
        .then((response) => response.json())
        .then((data) => {
          displayProduct(data);
        })
        .catch((error) => {
          console.error("Error:", error);
          window.location = "/browse"
        });
    </script>
  </body>
</html>
